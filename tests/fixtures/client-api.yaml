openapi: 3.0.0
info:
  version: 0.9.0
  title: Glean Client API
  contact:
    email: support@glean.com
  description: |
    # Introduction
    These are the public APIs to enable implementing a custom client interface to the Glean system.
  x-logo:
    url: https://app.glean.com/images/glean-text2.svg
servers:
  - url: https://{domain}-be.glean.com/rest/api/v1
    variables:
      domain:
        default: domain
        description: Email domain (without extension) that determines the deployment backend.
security:
  - BearerAuth: []
paths:
  /activity:
    post:
      tags:
        - Activity
      summary: Report document activity
      description: Report user activity that occurs on indexed documents such as viewing or editing. This signal improves search quality.
      operationId: activity
      x-visibility: Public
      x-codegen-request-body-name: payload
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Activity'
        required: true
        x-exportParamName: Activity
      responses:
        '200':
          description: OK
  /search:
    get:
      tags:
        - Search
      summary: Search for content
      description: Search for content across all indexed documents.
      operationId: search
      parameters:
        - name: q
          in: query
          description: Search query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchResults'
components:
  schemas:
    Activity:
      type: object
      properties:
        documentId:
          type: string
          description: ID of the document
        action:
          type: string
          enum: [view, edit]
          description: Type of activity
    SearchResults:
      type: object
      properties:
        results:
          type: array
          items:
            $ref: '#/components/schemas/SearchResult'
    SearchResult:
      type: object
      properties:
        id:
          type: string
          description: Document ID
        title:
          type: string
          description: Document title 