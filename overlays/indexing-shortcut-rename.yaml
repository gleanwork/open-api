overlay: 1.0.0
x-speakeasy-jsonpath: rfc9535
info:
  title: Rename Indexing Shortcut component to avoid clash with client Shortcut
  version: 0.0.5

actions:
  # 1. Duplicate the existing component under the new name
  - target: "$.components.schemas"
    update:
      IndexingShortcut: "{{ $.components.schemas.Shortcut }}"

  # 2. Remove the old Shortcut *definition* from indexing.yaml
  - target: "$.components.schemas.Shortcut"
    remove: true

  # 3. Rewrite every $ref in indexing.yaml that still points at the old name
  - target: "$..$ref"
    filter:
      regex: "#/components/schemas/Shortcut$"
    update: "#/components/schemas/IndexingShortcut"
